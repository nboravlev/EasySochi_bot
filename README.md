#  EasySochi_bot

Telegram-бот для посуточной аренды жилья в Сочи. Бот представляет из себя платформу, которая включает весь необходимый для бронирования функционал:

 - регистрация;
 - хранение данных;
 - поиск по параметрам;
 - бронирование;
 - создание и рассылка уведомлений;
 - коммуникация между пользователями;
 - правила предоставления услуг зафиксированы в Правилах и Условиях;
 - в целях лучшего маркетинка и аналитики каналов привлечения трафика в боте реализована функция использования реферальных ссылок для регистрации новых пользователей.

---

###  Роли пользователей

- **Админ**  
   может все

- **Арендатор**  
   ищет свободные квартиры по дате и ряду параметров
   отправляет запрос на бронирование  
   переходит в личный чат с владельцем для согласования оплаты
   может просматривать свои бронирования в личном кабинете
   может отменить бронирование

- **Собственник** 
   самостоятельно вносит свои объекты
   получает запросы на бронирование от Арендатора
   в личном кабинете может просматривать свои объекты, бронирования и статистику по ним
   через функцию Календарь занятости может блокировать объект на определенные даты
   может инициировать личный чат с Арендатором

---

##  Технологии

- `Python 3.11+`
- `python-telegram-bot` (Telegram Bot API)
- `PostgreSQL`
- `Docker`, `Docker Compose`
- `FastAPI` (в планах, для админ-панели)
- `SQLAlchemy`, `Alembic` для работы с БД


---
## Лицензия и правила использования

## Лицензия
Этот проект распространяется под лицензией MIT – подробности см. в файле [LICENSE](./LICENSE).

--

##  Быстрый запуск

> Убедитесь, что установлены Docker и Docker Compose

1. Клонируйте репозиторий:
```bash
git clone https://github.com/nboravlev/EasySochi_bot.git .
```
2. Создайте файл `.env` на основе примера:
```bash
cp .env.example .env

```
3. Запустите приложение

```
docker compose up -d --build
```

## Структура проекта
```

EasySochi_bot/
├── bot
│   ├── alembic
│   ├── alembic.ini
│   ├── api
│   ├── db
│   ├── Dockerfile
│   ├── entrypoint.sh
│   ├── handlers
│   ├── main.py
│   ├── requirements.txt
│   ├── schemas
│   ├── static
│   └── utils
├── db
│   ├── Dockerfile
│   ├── init
│   ├── postgresql.conf
├── docker-compose.yml
├── LICENSE
├── log_viewer
│   ├── app
│   ├── Dockerfile
│   ├── requirements.txt
│   └── utils
└── README.md
```

## Безопасность
 * Конфиденциальные данные (пользователи БД, токены) хранятся через Docker secrets
 * Доступ в Telegram бот регулируется ролями
 * В будущем планируется интеграция с платежной системой с соблюдением PCI-DSS рекомендаций

## Развитие

 * Веб-интерфейс админа (на FastAPI + React)
 * Интеграция с платежной системой (ЮKassa / Payture) 
 * Создание экосистемы бронирований услуг, квартир, экскурсий в Сочи
 * Вывод аналитики в веб-интерфейс, с доступом по ролям
