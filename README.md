#  EasySochi_bot

Telegram-бот для посуточной аренды жилья в Сочи. MVP-версия предназначена для посуточной аренды жилья в Сочи и туристических услуг.


---

##  Функциональность
В приложении есть возможность искать по различным параметрам квартиру или услугу,
бронировать. Оплата в приложении будет реализована позднее.
###  Роли пользователей

- **Админ**  
   Роль в разработке

- **Арендатор**  
   ищет свободные квартиры по дате и ряду параметров
   отправляет запрос на бронирование  
   переходит в личный чат с владельцем для согласования оплаты

- **Собственник** 
   самостоятельно вносит свои объекты
   получает запросы на бронирование от Арендатора
   через интерфейс бота управляет своими объектами и бронированиями
   может инициировать личный чат с Арендатором

---

##  Технологии

- `Python 3.11+`
- `python-telegram-bot` (Telegram Bot API)
- `PostgreSQL`
- `Docker`, `Docker Compose`
- `FastAPI` (в планах, для админ-панели)
- `SQLAlchemy`, `Alembic` для работы с БД


---

##  Быстрый запуск

> Убедитесь, что установлены Docker и Docker Compose

1. Клонируйте репозиторий:
```bash
git clone https://github.com/yourusername/EasySochi_bot.git
cd EasySochi_bot
```
2. Создайте директорию secrets и добавьте в нее файлы доступа в БД и сервисам (бот_токен, MapBox_token)
```
mkdir -p secrets

```
3. Запустите приложение

```
docker compose up -d --build
```

## Структура проекта


EasySochi_bot/
├── Dockerfile
├── README.md
├── bot
│   ├── Dockerfile
│   ├── alembic
│   ├── alembic.ini
│   ├── api
│   ├── db
│   ├── entrypoint.sh
│   ├── handlers
│   ├── main.py
│   ├── requirements.txt
│   ├── schemas
│   └── utils
├── docker-compose.yml
├── init-pg.sql
├── postgresql.conf
├── reset_db.py
├── secrets
│   ├── bot_token.txt
│   ├── mapbox_token.txt
│   ├── postgres_db.txt
│   ├── postgres_password.txt
│   └── postgres_user.txt
└── venv


## Безопасность
 * Конфиденциальные данные (пользователи БД, токены) хранятся через Docker secrets
 * Доступ в Telegram бот регулируется ролями
 * В будущем планируется интеграция с платежной системой с соблюдением PCI-DSS рекомендаций

## Развитие

 * Веб-интерфейс админа (на FastAPI + React)
 * Интеграция с платежной системой (ЮKassa / Stripe) 
 * Создание экосистемы бронирований услуг, квартир, экскурсий в Сочи
 * Вывод аналитики в веб-интерфейс, с доступом по ролям
